{% extends './layout.html' %}

{% block content %}
<a class="btn btn-success col-md-1" href="/book/bookAdd/">添加图书</a>

<form class="form-inline col-md-offset-9" role="form">
  <div class="form-group">
    <input type="text" class="form-control" placeholder="请输入名称/出版社/作者" name="search" value={{ search }} >
  </div>
  <button type="submit" class="btn btn-default">搜索</button>
</form>


<table class="table table-hover">
    <thead>
      <tr>
        <th>图书名称</th>
        <th>图书数量</th>
        <th>出版社</th>
        <th>作者</th>
        <th>状态</th>
        <th>出版日期</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
        {% for obj in dataList %}
      <tr>
        <td>{{ obj.bookname }}</td>
        <td>{{ obj.booknum }}</td>
        <td>{{ obj.publish }}</td>
        <td>{{ obj.writer }}</td>
        <td>{{ obj.get_status_display }}</td>
        <td>{{ obj.pubdate }}</td>
        <td>
            <a href="/book/bookUpdate/{{obj.id}}/">修改</a>
            <a href="/book/bookDelete/{{obj.id}}/">删除</a>
        </td>
      </tr>
      {% endfor %}
     
    </tbody>
  </table>

<div class="col-md-offset-5">
  <ul class="pagination">
    {% if page.has_previous %}
      <li><a href="/book/bookList/?page={{page.previous_page_number}}&search={{ search }}">&laquo;</a></li>
    {% else %}
      <li><a href="#">&laquo;</a></li>
    {% endif %}
    
    {% for i in page_range %}
    <li class="{% if current_page == i %}active{% else %}disabled{% endif %}"><a href="/book/bookList/?page={{ i }}&search={{ search }}">{{ i }}</a></li>
    {% endfor %}
    {% if page.has_next %}
      <li><a href="/book/bookList/?page={{page.next_page_number}}&search={{ search }}">&raquo;</a></li>
    {% else %}
      <li><a href="#">&raquo;</a></li>
    {% endif %}
  </ul>
</div>
{% endblock content %}